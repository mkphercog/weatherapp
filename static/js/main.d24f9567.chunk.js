(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],[,,,,,,,function(e){e.exports=JSON.parse('{"coord":{"lon":0,"lat":0},"weather":[{"id":0,"main":"Brak danych","description":"Brak danych","icon":"11d"}],"base":"Brak danych","main":{"temp":0,"feels_like":0,"temp_min":0,"temp_max":0,"pressure":0,"humidity":0},"visibility":0,"wind":{"speed":0,"deg":0},"clouds":{"all":0},"dt":0,"sys":{"type":0,"id":0,"country":"Brak danych","sunrise":0,"sunset":0},"timezone":0,"id":0,"name":"Brak danych","cod":0}')},,,,function(e,t,n){e.exports=n.p+"static/media/greenVillage.f2d72682.jpg"},,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/rain.0e54c1a2.jpg"},function(e,t,n){e.exports=n.p+"static/media/summer.41cb5f87.jpg"},function(e,t,n){e.exports=n.p+"static/media/thunder.c416d247.jpg"},function(e,t,n){e.exports=n.p+"static/media/winter.ff7c4633.jpg"},,,,function(e,t,n){e.exports=n(73)},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(5),s=n.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=n(1),o=n(22),l=n.n(o),u=function(e){var t="https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&APPID=0d90c0d99506c2d578ef4a5f8468ce4f&lang=pl&units=metric"),n=(new Date).toLocaleDateString(),a=(new Date).toLocaleTimeString();return function(e){e({type:"DATA_FETCHING"}),l.a.get(t).then((function(t){return 200===t.status&&e({type:"DATA_FETCHED",payload:t.data,dateOfData:"".concat(n,", ").concat(a)}),t.status})).catch((function(t){e({type:"DATA_ERROR",payload:t.response.data.message})}))}},m=function e(){document.getElementById("resultView__wrapper").scrollTop>0&&(document.getElementById("resultView__wrapper").scrollTop-=5,setTimeout(e,5))},f=(n(58),function(){var e=Object(r.c)((function(e){return e.townList.mainTown})),t=Object(r.b)();return i.a.createElement("i",{onClick:function(){t(u(e)),m()},className:"fas fa-sync-alt resultView__refreshIcon"})}),w=(n(59),function(){var e=Object(r.b)();return i.a.createElement("i",{onClick:function(){e({type:"SHOW_SETTINGS"}),m()},className:"fas fa-cogs resultView__settingsIcon"})}),_=n(11),p=n.n(_),d=n(23),E=n.n(d),g=n(24),T=n.n(g),N=n(25),h=n.n(N),b=n(26),O=n.n(b),V=(n(60),function(){var e=Object(r.c)((function(e){return e.fetchData.dateOfData})),t=Object(r.c)((function(e){return e.fetchData.townData})),n=Object(r.c)((function(e){return e.townList.mainTown})),a=t.main,c=t.name,s=t.weather,o=t.wind,l=t.sys,u=a.temp,m=a.feels_like,_=a.temp_min,d=a.temp_max,g=a.pressure,N=a.humidity,b=l.sunrise,V=l.sunset,v=s[0],y=(3.6*o.speed).toFixed(2),I=new Date(1e3*(b+3600)).toUTCString().slice(-12,-4),j=new Date(1e3*(V+3600)).toUTCString().slice(-12,-4),D=u<0&&u>=-.49?0:u.toFixed(),S=m<0&&m>=-.49?0:m.toFixed(),k=_<0&&_>=-.49?0:_.toFixed(),A=d<0&&d>=-.49?0:d.toFixed(),C=p.a;return D<=0||v.icon.includes("13")?C=O.a:D>0&&D<=20?C=p.a:D>20&&(C=T.a),(v.icon.includes("09")||v.icon.includes("10"))&&(C=E.a),v.icon.includes("11")&&(C=h.a),i.a.createElement("div",{className:"resultView",style:{backgroundImage:'url("'.concat(C,'")')}},i.a.createElement("div",{className:"resultView__wrapper",id:"resultView__wrapper"},i.a.createElement("h1",{className:"resultView__townName"},c),i.a.createElement("div",{className:"resultView__wrapperTemp"},i.a.createElement("h2",{className:"resultView__temp"},D,"\xb0C"),i.a.createElement("p",{className:"resultView__maxMinTemp"},"".concat(A,"\xb0C / ").concat(k,"\xb0C"))),i.a.createElement("img",{className:"resultView__weatherIcon",src:"https://openweathermap.org/img/wn/".concat(v.icon,"@2x.png"),alt:"Weather icon."}),i.a.createElement("div",{className:"resultView__wrapperInfo"},i.a.createElement("p",{className:"resultView__infoText"},"Opis:"," ",i.a.createElement("span",{className:"resultView__info"},v.description)),i.a.createElement("p",{className:"resultView__infoText"},"Odczuwalna:"," ",i.a.createElement("span",{className:"resultView__info"},S,"\xb0C")),i.a.createElement("p",{className:"resultView__infoText"},"Ci\u015bnienie: ",i.a.createElement("span",{className:"resultView__info"},g," pHa")),i.a.createElement("p",{className:"resultView__infoText"},"Wilgotno\u015b\u0107: ",i.a.createElement("span",{className:"resultView__info"},N,"%")),i.a.createElement("p",{className:"resultView__infoText"},"Pr\u0119dko\u015b\u0107 wiatru:"," ",i.a.createElement("span",{className:"resultView__info"},y," km/h")),i.a.createElement("p",{className:"resultView__infoText"},"Wsch\xf3d s\u0142o\u0144ca: ",i.a.createElement("span",{className:"resultView__info"},I)),i.a.createElement("p",{className:"resultView__infoText"},"Zach\xf3d s\u0142o\u0144ca: ",i.a.createElement("span",{className:"resultView__info"},j))),i.a.createElement("div",{className:"resultView__wrapperIcons"},i.a.createElement(f,null),i.a.createElement(w,null)),i.a.createElement("p",{className:"resultView__dateOfRefresh"},"Dane z: ",e||"Brak danych"),i.a.createElement("p",{className:"resultView__mainTown"},"G\u0142\xf3wne miasto:"," ",i.a.createElement("span",{className:"resultView__info"},n||"Brak danych"))))}),v=n(29),y=function(e){return{type:"CHANGE_SETTINGS_INPUT_CONTENT",value:e}},I=function(e){return{type:"SETTINGS_INPUT_EMPTY",isEmpty:e}},j=(n(61),function(){var e=Object(r.c)((function(e){return e.settingsInputContent.value})),t=Object(r.c)((function(e){return e.settingsInputContent.isEmpty})),n=Object(r.b)(),a=t?"settingsView__input settingsView__input--isEmpty":"settingsView__input";return i.a.createElement("input",{type:"text",value:e,onChange:function(e){return n(y(e.target.value))},className:a,placeholder:"Nazwa miasta..."})}),D=function(){var e=Object(r.c)((function(e){return e.settingsInputContent.value})),t=Object(r.b)();return i.a.createElement("button",{className:"settingsView__btnAddTown",onClick:function(){if(""===e)t(I(!0)),setTimeout((function(){return t(I(!1))}),2e3);else{var n=e.replace(/\s+/g," ").trim();t(u(n)),t(y(""))}}},"Sprawd\u017a miasto")},S=localStorage.getItem("mainTown")?localStorage.getItem("mainTown"):"Warszawa",k=function(e){return localStorage.setItem("mainTown",e)},A=null===localStorage.getItem("favouriteTownsList")||"[]"===localStorage.getItem("favouriteTownsList")?["Warszawa"]:JSON.parse(localStorage.getItem("favouriteTownsList")),C=function(e){return localStorage.setItem("favouriteTownsList",JSON.stringify(e))},L=(n(62),function(e){var t=e.town,n=Object(r.b)();return i.a.createElement("button",{className:"settingsView__btn",onClick:function(){n(u(t)),n({type:"HIDE_SETTINGS"})}},"Sprawd\u017a pogod\u0119")}),x=function(e){return{type:"SET_MAIN_TOWN",main:e}},W=(n(63),function(e){var t=e.town,n=Object(r.b)();return i.a.createElement("button",{className:"settingsView__btn",onClick:function(){n(x(t)),k(t)}},"G\u0142\xf3wne miasto")}),B=(n(64),function(e){var t=e.town,n=Object(r.b)(),a=Object(r.c)((function(e){return e.townList.mainTown}));return i.a.createElement("i",{className:"fas fa-trash-alt settingsView__trashIcon",onClick:function(){n({type:"DELETE_TOWN_FROM_LIST",town:t}),t===a&&(n(x("")),k("")),C([])}})}),G=(n(65),function(){var e=Object(r.c)((function(e){return e.townList.towns})),t=Object(r.c)((function(e){return e.townList.mainTown}));C(e);var n=e.map((function(e,n){return i.a.createElement("li",{className:"settingsView__listItem",key:n},i.a.createElement("div",{className:"settingsView__wrapperIconName"},t===e?i.a.createElement("i",{className:"fas fa-home settingsView__homeIcon"}):i.a.createElement("i",{className:"fas fa-home settingsView__homeIcon settingsView__homeIcon--disabled"}),i.a.createElement("span",{className:"settingsView__townName"},e),i.a.createElement(B,{town:e})),i.a.createElement("div",{className:"settingsView__wrapperBtn"},t===e?null:i.a.createElement(W,{town:e}),i.a.createElement(L,{town:e})))})),a=n.find((function(e){return"fas fa-home settingsView__homeIcon"===e.props.children[0].props.children[0].props.className})),c=n.filter((function(e){return e!==a})),s=[a,c.reverse()];return i.a.createElement("ul",{className:"settingsView__favouriteList"},e.length?s:i.a.createElement("li",{className:"settingsView__listItem"},"Brak danych."))}),M=(n(66),function(){var e=Object(r.b)();return i.a.createElement("i",{className:"fas fa-times settingsView__close",onClick:function(){return e({type:"HIDE_SETTINGS"})}})}),F=n(6),H=(n(67),function(){var e=Object(r.c)((function(e){return e.fetchData.townData.name})),t=Object(r.c)((function(e){return e.townList.towns})),n=Object(r.b)(),a=t.find((function(t){return t===e}))||"Brak danych"===e,c=a?"settingsView__btnAddTown settingsView__btn--disabled":"settingsView__btnAddTown";return i.a.createElement("button",{disabled:a,className:c,onClick:function(){n({type:"ADD_TOWN_TO_LIST",town:e}),C([].concat(Object(F.a)(t),[e]))}},a?"Nic do dodania":i.a.createElement("p",null,"Dodaj ",i.a.createElement("span",{className:"settingsView__TownToAdd"},e)," ","do listy"))}),z=(n(68),function(){var e=Object(r.c)((function(e){return e.settingsVisible.isVisible})),t=Object(a.useState)(0),n=Object(v.a)(t,2),c=n[0],s=n[1],o=function(e){s(c+e)};return e&&c<100&&setTimeout((function(){return o(5)}),10),!e&&c>0&&(!function e(){document.getElementById("settingsView").scrollTop>0&&(document.getElementById("settingsView").scrollTop-=5,setTimeout(e,10))}(),setTimeout((function(){return o(-5)}),10)),i.a.createElement("div",{className:"settingsView",id:"settingsView",style:{display:"".concat(0!==c?"block":"none"),opacity:"".concat(c,"%")}},i.a.createElement("div",{className:"settingsView__wrapper"},i.a.createElement("h1",{className:"settingsView__title"},"Ustawienia"),i.a.createElement("div",{className:"settingsView__wrapperAddTown"},i.a.createElement(j,null),i.a.createElement(D,null),i.a.createElement(H,null)),i.a.createElement("div",{className:"settingsView__wrapperFavouriteList"},i.a.createElement("h3",{className:"settingsView__favouriteTitle"},"Lista ulubionych miast"),i.a.createElement(G,null)),i.a.createElement(M,null),i.a.createElement("p",{className:"settingsView__author"},"Projekt i realizacja: Marcin Hercog")))}),P=(n(69),function(){var e=Object(r.c)((function(e){return e.fetchData.errorMessage}));return i.a.createElement("div",{className:"errorView"},i.a.createElement("h1",{className:"errorView__message"},e))}),R=(n(70),function(){return i.a.createElement("div",{className:"loadingView"},i.a.createElement("i",{className:"fas fa-sync-alt loadingView__icon"}),i.a.createElement("h1",{className:"loadingView__message"},"\u0141adowanie"))}),U=(n(71),n(4)),J=n(27),Y=n(28),q=n(2),Z=n(7),$={featching:!1,featched:!1,townData:Z,dateOfData:"",error:!1,errorMessage:""},K={towns:A,mainTown:S},Q={value:"",isEmpty:!1},X={isVisible:!1},ee=Object(U.combineReducers)({townList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TOWN_TO_LIST":return Object(q.a)({},e,{towns:[].concat(Object(F.a)(e.towns),[t.town])});case"DELETE_TOWN_FROM_LIST":var n=e.towns.filter((function(e){return e!==t.town}));return Object(q.a)({},e,{towns:n});case"DEFAULT_TOWN_STATE":return k("Warszawa"),Object(q.a)({},e,{towns:["Warszawa"],mainTown:"Warszawa"});case"SET_MAIN_TOWN":return Object(q.a)({},e,{mainTown:t.main});default:return e}},fetchData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DATA_FETCHING":return Object(q.a)({},e,{featching:!0,featched:!1,townData:Z,dateOfData:"",error:!1,errorMessage:""});case"DATA_FETCHED":return Object(q.a)({},e,{featching:!1,featched:!0,townData:t.payload,dateOfData:t.dateOfData,error:!1,errorMessage:""});case"DATA_ERROR":return Object(q.a)({},e,{featching:!1,featched:!1,townData:Z,dateOfData:"",error:!0,errorMessage:t.payload});default:return e}},settingsInputContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_SETTINGS_INPUT_CONTENT":return Object(q.a)({},e,{value:t.value,isEmpty:!1});case"SETTINGS_INPUT_EMPTY":return Object(q.a)({},e,{isEmpty:t.isEmpty});default:return e}},settingsVisible:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_SETTINGS":return Object(q.a)({},e,{isVisible:!0});case"HIDE_SETTINGS":return Object(q.a)({},e,{isVisible:!1});default:return e}}}),te=Object(Y.composeWithDevTools)(Object(U.applyMiddleware)(J.a)),ne=Object(U.createStore)(ee,te);n(72);s.a.render(i.a.createElement(r.a,{store:ne},i.a.createElement((function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.townList.mainTown})),n=Object(r.c)((function(e){return e.townList.towns})),c=Object(r.c)((function(e){return e.fetchData.featching})),s=Object(r.c)((function(e){return e.fetchData.error}));Object(a.useEffect)((function(){k(t),e(u(t))}),[]);return s&&setTimeout((function(){if(t)e(u(t)),e({type:"HIDE_SETTINGS"});else if(n.length>0){var a=Math.floor(Math.random()*n.length);k(n[a]),e(x(n[a]))}else localStorage.clear(),e({type:"DEFAULT_TOWN_STATE"})}),1500),i.a.createElement("div",{className:"app"},i.a.createElement(V,null),i.a.createElement(z,null),c?i.a.createElement(R,null):null,s?i.a.createElement(P,null):null)}),null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[30,1,2]]]);
//# sourceMappingURL=main.d24f9567.chunk.js.map